---
name: skill-creator
description: >-
  Markdownスキルファイル(.md)を正しいYAMLフロントマター形式で作成するためのメタスキル。
  個人スキル(skills/)・共通スキル(common_skills/)のdescription記述ルール、
  「」キーワード設計、Progressive Disclosure構造、write_memory_fileでの保存手順を提供する。
  「スキル作成」「スキルを作りたい」「新しいスキル」「手順書を作成」「スキルファイル」
---

# skill-creator

## スキルファイルの構造

スキルファイルはYAMLフロントマターとMarkdown本文で構成される。
フロントマターには `name` と `description` の2フィールドのみを記載する。

```yaml
---
name: スキル名
description: >-
  スキルの説明。
  「キーワード1」「キーワード2」
---
```

`description` はスキルの発動を決定する最重要フィールドである。
ユーザーのメッセージと description の内容がマッチした場合にのみ、本文がシステムプロンプトに注入される。
つまり description が「主要なトリガー機構」として機能する。

## descriptionの書き方

### 最重要ルール: ドメイン固有に具体的に書く

descriptionはベクトル検索（セマンティック類似度）のマッチング対象になる。
**汎用的・抽象的な記述は他のスキルと誤マッチを起こす。**
必ずそのスキル固有の具体的な用語・操作・対象を明記すること。

**悪い例（汎用的 → 偽陽性を起こす）**:

```yaml
description: >-
  AnimaWorksサーバーの管理を行う。プログラム更新後のリロードやシステム状態の確認を担当する。
```

→ 「管理」「確認」「状態」が汎用的すぎて、無関係なメッセージにもマッチしてしまう。

**良い例（ドメイン固有 → 正確にマッチ）**:

```yaml
description: >-
  AnimaWorksサーバープロセスの運用管理スキル。
  コード更新後のホットリロード(server reload)、Animaプロセスの再起動、
  サーバーステータス確認(起動中Anima一覧・メモリ使用量)を実行する。
  「リロードして」「更新を反映して」「再読み込みして」「システム状態」「サーバー再起動」「プロセス確認」
```

→ 「ホットリロード」「server reload」「Animaプロセス」「メモリ使用量」が固有の語彙。

### 基本構成

1. **1文目**: スキルの目的を**具体的な対象と操作**で述べる（「〜の管理」ではなく「〜のホットリロード、再起動、ステータス確認」）
2. **2文目以降**: 使用するツール名、API名、具体的な操作手順を記載する
3. **末尾**: `「」`区切りのキーワードを列挙する

### description具体化チェック

以下の語彙が単独で使われていたら、より具体的な表現に置き換える:

| 避けるべき語彙 | 改善例 |
|--------------|--------|
| 管理を行う | ホットリロード、プロセス再起動、ステータス確認 |
| 確認する | slack_searchツールでDM取得、未読チェック |
| 対応を行う | chatwork_searchでルーム内未読取得、返信送信 |
| 仕組みと使い方 | RAG/Priming/Consolidation、実行モード(A1/A2/B) |
| 作成するためのメタスキル | YAMLフロントマター形式で作成、「」キーワード設計 |

### キーワード設計のコツ

- ユーザーが自然に発話する短いフレーズ（2-5文字）を選ぶ
- 同義語・類義語を含める（例: 「定期実行」「cron設定」「スケジュール」）
- 英語の説明にはカンマ区切りやユースケース例を使ってもよい
- キーワードが多すぎると誤発動するため、3-6個程度に絞る
- キーワードもドメイン固有にする（「確認」ではなく「cron確認」「Slack確認」）

### 例

```yaml
description: >-
  AnimaWorksのcronジョブ(APScheduler)の設定と管理を行うスキル。
  crontab形式での定期実行タスクの追加・編集・削除、
  次回実行時刻の確認、実行ログの参照手順を提供する。
  「cron設定」「定期実行」「スケジュール」「定時タスク」「cron確認」
```

## Progressive Disclosure（段階的開示）

スキルの情報は3段階で開示される。

| Level | 内容 | 表示タイミング |
|-------|------|----------------|
| Level 1 | description | 常にスキルテーブルに表示。スキル選択の判断材料 |
| Level 2 | body（本文） | descriptionがマッチした時にシステムプロンプトに注入 |
| Level 3 | 外部リソース | 本文中の指示に従い、必要時にファイルを読み込む |

Level 1 は常にコンテキストを消費するため、descriptionは簡潔に保つ。
Level 2 の本文には具体的な手順を記載する。
Level 3 は長大な参照資料やコード例を外部ファイルに分離する場合に使う。

## 作成手順

### Step 1: ヒアリング

ユーザーの要求を理解する。以下を確認する:

- 何を自動化・手順化したいか
- 対象は個人スキルか共通スキルか
- どのような言葉で発動させたいか（トリガーキーワード）

### Step 2: 設計

以下を決定する:

- **name**: スキル名（ケバブケース、例: `my-skill`）
- **description**: トリガーとなる説明文とキーワード
- **body**: 手順の構成（セクション分け）

### Step 3: 作成

スキルファイルを保存する:

```
write_memory_file("skills/{name}.md", content)
```

共通スキルの場合:

```
write_memory_file("common_skills/{name}.md", content)
```

### Step 4: 確認

保存後に読み直して内容を検証する:

```
read_memory_file("skills/{name}.md")
```

## チェックリスト

保存前に以下を確認する:

- [ ] `---` で始まり `---` で閉じるYAMLフロントマターがある
- [ ] `name` フィールドがある
- [ ] `description` フィールドがある
- [ ] descriptionに `「」` キーワードが1つ以上ある
- [ ] **descriptionがドメイン固有で具体的**（「管理を行う」「確認する」のような汎用表現を避け、ツール名・操作名・対象を明記）
- [ ] bodyに具体的な手順が記載されている
- [ ] `## 概要` / `## 発動条件` の旧形式を使っていない

## テンプレート

以下をコピーして使用する:

```markdown
---
name: {スキル名}
description: >-
  {具体的な対象}の{具体的な操作}スキル。
  {使用するツール名/API名}で{具体的な手順の概要}を実行する。
  「{ドメイン固有キーワード1}」「{ドメイン固有キーワード2}」「{ドメイン固有キーワード3}」
---

# {スキル名}

## 手順

1. ...
2. ...

## 注意事項

- ...
```

## 注意事項

- スキルはMarkdown手順書であり、Pythonコード（ツール）とは異なる
- フロントマターに `name` と `description` 以外のフィールドを入れない
- bodyが長くなりすぎるとコンテキストを圧迫するため、150行以内を目安にする
- 外部リソース参照（Level 3）を活用して本文を簡潔に保つ
