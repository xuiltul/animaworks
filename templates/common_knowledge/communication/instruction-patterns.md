# 指示の出し方パターン集

部下やチームメンバーに対して明確で実行可能な指示を出すためのパターン集。
曖昧な指示は手戻りと混乱の原因になる。このガイドに従い、相手が迷わず行動できる指示を心がける。

## 明確な指示の5要素

指示を出す際、以下の5要素を含めること（MUST）。相手の確認・手戻りを最小化する。

| 要素 | 説明 | MUST/SHOULD |
|------|------|-------------|
| 目的（なぜ） | この作業が必要な理由・背景 | MUST |
| 期待成果（何を） | 完了時に何が出来上がるか | MUST |
| 期限（いつまで） | 作業完了の期限 | MUST（急ぎでない場合も目安を示す） |
| 制約・条件（どのように） | 使うべき手法、避けるべきこと | SHOULD |
| 報告タイミング（いつ報告） | 完了時 / 途中経過 / 問題発生時 | MUST |

## 良い指示 vs 悪い指示

### 例1: データ集計の依頼

**悪い指示:**
```
send_message(
    to="alice",
    content="売上データを集計しておいてください。"
)
```
問題点: 何のデータか、どの期間か、どの形式で出力するか、いつまでかが不明。

**良い指示:**
```
send_message(
    to="alice",
    content="""売上データの月次集計をお願いします。

目的: 経営会議（2/20）の資料として使用
対象: 2026年1月の売上データ（/shared/data/sales_202601.csv）
成果物: 部門別・製品カテゴリ別の集計表（Markdown形式）
出力先: /shared/reports/sales_summary_202601.md
期限: 2/18（火）17:00まで
報告: 完了時に結果サマリーを返答してください。"""
)
```

### 例2: 調査タスクの依頼

**悪い指示:**
```
send_message(
    to="bob",
    content="APIのエラーについて調べておいて。"
)
```
問題点: どのAPI、どのエラー、調査の深さ、報告形式が不明。

**良い指示:**
```
send_message(
    to="bob",
    content="""GitHub API のレート制限エラー (HTTP 403) の調査をお願いします。

背景: 昨日15時頃から断続的に発生しており、自動デプロイが失敗している
調査してほしいこと:
1. エラー発生の頻度とパターン（ログ: /var/log/deploy/github-api.log）
2. 現在のレート制限の設定と使用状況
3. 回避策の提案（リトライ戦略、トークン分散など）

期限: 本日中
報告: 調査結果と推奨対策をまとめて返答してください。
途中で重大な発見があれば即座に報告してください。"""
)
```

### 例3: レビュー依頼

**悪い指示:**
```
send_message(
    to="carol",
    content="コード見ておいて。"
)
```

**良い指示:**
```
send_message(
    to="carol",
    content="""認証モジュールのコードレビューをお願いします。

対象ファイル: ~/project/auth/token_manager.py（新規追加）
確認観点:
- セキュリティ上の懸念がないか（トークンの保存・失効処理）
- エラーハンドリングの網羅性
- 既存の auth_handler.py との整合性

期限: 明日（2/16）午前中
報告: 問題なければ「LGTM」、修正点があれば具体的な箇所と理由を返答してください。"""
)
```

## タスク委任パターン

### パターン1: 単発タスク

一度きりの作業を依頼するパターン。最も基本的な形式。

```
send_message(
    to="alice",
    content="""【依頼】ドキュメント更新

API仕様書（/shared/docs/api-spec.md）にv2.1の変更点を反映してください。

変更内容:
- /api/users エンドポイントにページネーションパラメータ追加
- レスポンスに total_count フィールド追加
- 変更の詳細: /shared/docs/changelog-v2.1.md を参照

期限: 2/16 15:00
完了したら返答をお願いします。"""
)
```

### パターン2: 継続タスク（定期作業の委任）

ハートビートや cron に組み込むべき定期タスクを指示するパターン。

```
send_message(
    to="bob",
    content="""【継続依頼】日次のログ監視

今後、毎日午前中にアプリケーションログの異常チェックを行ってください。

対象: /var/log/app/error.log
確認内容:
- 過去24時間のERROR/CRITICALレベルのログ件数
- 新規パターンのエラーが出ていないか

報告ルール:
- 異常なし → 報告不要
- ERROR 10件以上 or 新規パターン → 即座に私に報告
- 毎週金曜に1週間のサマリーを報告

この内容をあなたのハートビートチェックリストに追加してください。"""
)
```

### パターン3: 段階的タスク（マイルストーン付き）

大きなタスクを段階に分けて委任するパターン。

```
send_message(
    to="carol",
    content="""【依頼】新機能の設計と実装（3段階）

ユーザー通知機能の追加をお願いします。

Phase 1（2/17まで）: 設計
- 通知の種類（メール/Slack/アプリ内）と優先度の定義
- データモデルの設計案
→ 設計案を返答してください。私が承認後にPhase 2に進んでください。

Phase 2（2/20まで）: 実装
- 承認された設計に基づいて実装
- テストコード含む
→ 完了したら返答してください。

Phase 3（2/21まで）: ドキュメント
- API仕様書と利用ガイドの作成

各Phase完了時に返答をお願いします。
Phase間で方針に迷う場合は相談してください。"""
)
```

## フォローアップ（進捗確認）パターン

### 期限前の確認

```
send_message(
    to="alice",
    content="""売上データ集計の進捗を確認します。
期限は明日（2/18）17:00ですが、順調に進んでいますか？
ブロッカーがあれば教えてください。"""
)
```

### 期限超過時のフォローアップ

```
send_message(
    to="bob",
    content="""ログ監視の調査結果について確認です。
本日中が期限でしたが、状況はいかがですか？
困っている点があれば教えてください。必要に応じて期限を延長します。"""
)
```

### 成果物受領後のフィードバック

```
send_message(
    to="carol",
    content="""設計案を確認しました。全体的に良い方向です。

修正をお願いしたい点:
1. 通知の再送ロジックに指数バックオフを追加してください
2. 通知テンプレートのi18n対応を設計に含めてください

上記を反映した修正版を2/18までにお願いします。"""
)
```

## エスカレーション判断基準

自分で対処するか、上司にエスカレーションするかの判断基準。

### 自分で対処すべき場面（エスカレーション不要）

- 手順が明確で、自分の権限内で完結する作業
- 軽微なエラーで、既知の回復手順がある場合
- 部下からの質問で、自分の知識で回答可能な場合
- 作業の優先順位が明確で、判断に迷いがない場合

### エスカレーションすべき場面

- MUST: 自分の権限を超える判断が必要な場合（例: 外部API連携の方針変更）
- MUST: 複数部署に影響するインシデントが発生した場合
- MUST: 期限に間に合わないことが確実になった場合
- SHOULD: 想定外の状況で、正解が複数あり判断に迷う場合
- SHOULD: 部下からのエスカレーションで自分でも解決できない場合

### エスカレーションの伝え方

```
send_message(
    to="manager",
    content="""【エスカレーション】デプロイパイプラインの障害

状況: GitHub API のレート制限により自動デプロイが12時間停止中
影響: 本日リリース予定の機能（v2.1）がデプロイできない
試した対策: リトライ間隔の延長、キャッシュの活用（いずれも効果なし）
判断が必要な点: 別のGitHubトークンを発行するか、手動デプロイに切り替えるか

ご判断をお願いします。"""
)
```

## 指示のテンプレート

### 汎用タスク依頼テンプレート

```
【依頼】{タスク名}

{背景・目的（1-2行）}

作業内容:
- {具体的な作業1}
- {具体的な作業2}

成果物: {何をどこに出力するか}
期限: {日時}
報告: {完了時/途中経過/問題発生時のどれか}
```

### 調査依頼テンプレート

```
【調査依頼】{調査テーマ}

背景: {なぜこの調査が必要か}

調査してほしいこと:
1. {調査項目1}
2. {調査項目2}
3. {調査項目3}

期限: {日時}
報告: 調査結果と推奨アクションをまとめて返答してください。
```

### レビュー依頼テンプレート

```
【レビュー依頼】{対象の名前}

対象: {ファイルパスまたはリソース}
確認観点:
- {観点1}
- {観点2}

期限: {日時}
報告: 問題なければ「LGTM」、修正点があれば具体的に返答してください。
```
